{"version":3,"sources":["Counter.js","FittingRoom.js","Phone.js","App.js","serviceWorker.js","index.js"],"names":["Counter","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","fittingRoomNumber","showQR","cart","scannedIds","showConfirmation","emptyRooms","bind","assertThisInitialized","handleError","offQR","appendToCart","clearCart","handleSubmit","deleteItem","getEmptyRooms","setState","err","console","error","data","_this2","includes","Audio","play","url","axios","get","then","response","concat","color","name","size","log","ReactDOM","findDOMNode","refs","dropdown","value","forEach","x","substring","length","post","item","_this3","filter","id","indexOf","cartItem","_this4","_this5","map","react_default","a","createElement","key","className","onClick","ref","lib_default","delay","onScan","style","width","onError","align","required","disabled","selected","marginTop","Component","FittingRoom","customerItems","requestedRecommendations","roomNumber","shownRecommendations","selectedItemForRecommendations","isOccupied","highlightItem1","highlightItem2","highlightItem3","highlightReco1","highlightReco2","highlightReco3","requestedSize","getItems","getInstructions","getRecommendations","requestItem","leaveRoom","requestedRecommendationsContains","shouldEmptyRoom","getRecoFromSizeAndItemNumber","convertShownRecosToUniqRecos","catch","action","apparel","itemNumString","index","image","i","recommendations","reco","found","existingReco","push","recommendation","setInterval","rec","headers","Headers","append","formData","FormData","fetch","method","body","json","count","isOccupiedNow","previousOccupied","_this6","itemsInFittingRoom","imageUrl","marginBottom","src","alt","textAlign","alignItem","justifyContent","price","addedRecoIds","sizes","sreco","fuck","currentlyShowingRecommendations","fontSize","Phone","pendingRequests","inTransit","getPendingRequests","shiftFromPendingToTransit","markAsDelivered","getInTransit","request","recommendationRequests","uniqid","location_in_store","itemsInTransit","App","showCounter","showFittingRoomSelection","showFittingRoom","showPhone","fittingRoomSelection","src_Counter_0","src_FittingRoom_0","src_Phone_0","Boolean","window","location","hostname","match","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.484a1f8d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport QrReader from 'react-qr-reader';\nimport './Counter.css';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n\nclass Counter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fittingRoomNumber: '',\n      showQR: false,\n      cart: [],\n      scannedIds: [],\n      showConfirmation: false,\n      emptyRooms: []\n    }\n\n    this.showQR = this.showQR.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.offQR = this.offQR.bind(this);\n    this.appendToCart = this.appendToCart.bind(this);\n    this.clearCart = this.clearCart.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.getEmptyRooms = this.getEmptyRooms.bind(this);\n  }\n\n  offQR() {\n    this.setState({\n      showQR: false\n    })\n  }\n\n  showQR() {\n    this.setState({\n      showQR: true\n    });\n  }\n\n  handleError(err) {\n    console.error(err);\n  }\n\n  appendToCart(data) {\n    if (data != null && !this.state.scannedIds.includes(data)) {\n      var audio = new Audio('http://freesound.org/data/previews/144/144418_62484-lq.mp3');\n      audio.play();\n      var url = 'http://207.46.230.56/apparel/' + data\n      axios.get(url).then(response =>\n        this.setState({\n          scannedIds: this.state.scannedIds.concat(data),\n          cart: this.state.cart.concat(response.data.color + \" \" + response.data.name + \" (\" + response.data.size + \") ---- \"),\n          showConfirmation: false\n        }))\n    }\n    console.log(this.state.cart);\n  }\n\n  clearCart() {\n    this.setState({\n      cart: [],\n      scannedIds: []\n    })\n  }\n\n  handleSubmit() {\n    var fittingRoomNumber = ReactDOM.findDOMNode(this.refs.dropdown).value;\n    var url = \"http://207.46.230.56/fitting_room/\" + fittingRoomNumber + \"/\";\n    this.state.scannedIds.forEach(x => (url = url.concat(x + \"/\")));\n    url = url.substring(0, url.length - 1);\n    console.log(url);\n    axios.post(url);\n    this.clearCart();\n    this.setState({\n      showConfirmation: true\n    })\n\n  }\n\n  deleteItem(item) {\n    //delete scannedId that corresponds with item description, then delete item that matches description from cart\n    this.setState({\n      scannedIds: this.state.scannedIds.filter(id => this.state.scannedIds.indexOf(id) !== this.state.cart.indexOf(item)),\n      cart: this.state.cart.filter(cartItem => cartItem !== item),\n    })\n    console.log(this.state.cart);\n  }\n\n  getEmptyRooms(){\n    axios.get(\"http://207.46.230.56/find_empty_room\").then(response => {\n      this.setState({\n        emptyRooms: response.data\n      })\n      console.log(this.state.emptyRooms);\n    });\n  }\n\n  render() {\n\n    var cart = this.state.cart.map(x => <ol key={x}> {x} <div className=\"btn-group\"><button className=\"btn btn-danger\" onClick={() => this.deleteItem(x)}>Delete</button></div></ol>);\n\n    return (\n      <div className=\"App\">\n        <h1 className=\"display-4\"> Changing Room Counter</h1>\n        <p className=\"lead\">Scan customer's items, then select fitting room</p>\n        <div className=\"row justify-content-center\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-primary\" onClick={this.showQR}>Scan QR Code of Item</button>\n            <button className=\"btn btn-primary\" onClick={this.offQR}>Close Scanner</button>\n            <button onClick={this.getEmptyRooms}>Get empty rooms</button>\n          </div>\n        </div>\n        <div ref=\"QR\">\n          {this.state.showQR ?\n            <div className=\"jumbotron jumbotron-qr\">\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <QrReader\n                    delay={200}\n                    onScan={this.appendToCart}\n                    style={{ width: '20em' }}\n                    onError={this.handleError}\n                    className=\"QRcam\"\n                  />\n                </div>\n                <div className=\"col-sm\">\n                  <div className=\"item-cart text-right\">\n                    <h4>Your cart</h4>\n                    <hr className=\"hr-black\" align=\"right\"></hr>\n                    <ol className=\"item-list\">\n                      {cart}\n                    </ol>\n                  </div>\n                  <div className=\"float-right cart-btns\">\n                    <button className=\"btn btn-primary\" onClick={this.clearCart}>Clear cart</button>\n                      <div className=\"container select-room\">\n                        <select className=\"form-control dropdown-custom\" ref=\"dropdown\" required>\n                          <option value=\"\" disabled selected>Select a fitting room</option>\n                          <option value=\"1\">1</option>\n                          <option value=\"2\">2</option>\n                          <option value=\"3\">3</option>\n                          <option value=\"4\">4</option>\n                        </select>\n                      </div>\n                    {this.state.cart.length > 0 ? <button className=\"btn btn-primary\" onClick={this.handleSubmit}>Submit</button>:''}\n                  </div>\n                </div>\n              </div>\n            </div> : ''\n          }\n        </div>\n        <h4 className=\"submission-state\" style={{marginTop: \"1rem\"}}>{this.state.showConfirmation ? \"Items successfully submitted!\" : \"Pending new submission...\"}</h4>\n      </div>\n    );\n  }\n}\n\nexport default Counter;\n","import React, { Component } from 'react';\nimport './FittingRoom.css';\nimport axios from 'axios';\n\n\nclass FittingRoom extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      customerItems: [],\n      requestedRecommendations: [],\n      fittingRoomNumber: props.roomNumber,\n      shownRecommendations: [],\n      selectedItemForRecommendations: null,\n      isOccupied: false,\n      highlightItem1: false,\n      highlightItem2: false,\n      highlightItem3: false,\n      highlightReco1: false,\n      highlightReco2: false,\n      highlightReco3: false,\n      requestedSize: ''\n    }\n\n    this.getItems = this.getItems.bind(this);\n    this.getInstructions = this.getInstructions.bind(this);\n    this.getRecommendations = this.getRecommendations.bind(this);\n    this.requestItem = this.requestItem.bind(this);\n    this.leaveRoom = this.leaveRoom.bind(this);\n    this.requestedRecommendationsContains = this.requestedRecommendationsContains.bind(this);\n    this.shouldEmptyRoom = this.shouldEmptyRoom.bind(this);\n    this.getRecoFromSizeAndItemNumber = this.getRecoFromSizeAndItemNumber.bind(this);\n    this.convertShownRecosToUniqRecos = this.convertShownRecosToUniqRecos.bind(this);\n  }\n\n  getItems(){\n    var url = 'http://207.46.230.56/fitting_room/' + this.state.fittingRoomNumber\n    axios.get(url).then(response => {\n      this.setState({\n        customerItems: response.data\n      })\n    }).catch(error => console.error(\"No items in room!\"));\n  }\n  \n  getInstructions(){\n    var url = 'http://207.46.230.56/action/' + this.state.fittingRoomNumber\n    axios.get(url).then(response => {\n      if (response.data !== \"\") {\n        console.log(response.data);\n        switch(response.data.action){\n          case \"item one\":\n            this.setState({\n              highlightItem1: true\n            })\n            this.getRecommendations(this.state.customerItems[0]);\n            break;\n          case \"item two\":\n            this.setState({\n              highlightItem2: true\n            })\n            this.getRecommendations(this.state.customerItems[1]);\n            break;\n          case \"item three\":\n            this.setState({\n              highlightItem3: true\n            })\n            this.getRecommendations(this.state.customerItems[2]);\n            break;\n          case \"first item\":\n            this.setState({\n              highlightReco1: true\n            })\n            break;\n          case \"second item\":\n            this.setState({\n              highlightReco2: true\n            })\n            console.log(this.state.highlightReco2);\n            break;\n          case \"third item\":\n            this.setState({\n              highlightReco3: true\n            })\n            break;\n          case \"size small\":\n            this.setState({\n              requestedSize: \"S\"\n            })\n            break;\n          case \"size medium\":\n            this.setState({\n              requestedSize: \"M\"\n            })\n            break;\n          case \"size large\":\n            this.setState({\n              requestedSize: \"L\"\n            })\n            break;\n          case \"yes confirm\":\n            if (this.state.highlightReco1){\n              this.requestItem(this.getRecoFromSizeAndItemNumber(this.state.requestedSize, \"first item\"));\n            } else if (this.state.highlightReco2){\n              this.requestItem(this.getRecoFromSizeAndItemNumber(this.state.requestedSize, \"second item\"));\n            } else if (this.state.highlightReco2){\n              this.requestItem(this.getRecoFromSizeAndItemNumber(this.state.requestedSize, \"third item\"));\n            }\n            break;\n          default:\n            console.log(\"Unavailable command\");\n        }\n      }\n    });\n  }\n  \n  getRecommendations(apparel){\n    if (apparel !== null){\n      var url = \"http://207.46.230.56/recommendations/\" + apparel.id;\n      axios.get(url).then(response => {\n        this.setState({\n          selectedItemForRecommendations: apparel,\n          shownRecommendations: response.data,\n        })\n        console.log(response);\n      })\n    }\n  }\n\n  getRecoFromSizeAndItemNumber(size, itemNumString){\n    var index;\n    switch(itemNumString){\n      case \"first item\":\n        index = 0;\n        break;\n      case \"second item\":\n        index = 1;\n        break;\n      case \"third item\":\n        index = 2;\n        break;\n      default:\n    }\n    let uniqRecoArr = this.convertShownRecosToUniqRecos();\n    let uniqReco = uniqRecoArr[index];\n    let image = uniqReco.image;\n    for (var i = 0; i < this.state.shownRecommendations.length; i++){\n      if (this.state.shownRecommendations[i].image === image && this.state.shownRecommendations[i].size === size){\n        return this.state.shownRecommendations[i];\n      }\n    }\n  }\n\n  convertShownRecosToUniqRecos(){\n    const recommendations = []\n    this.state.shownRecommendations.forEach(reco => {\n      let found = false\n      recommendations.forEach(existingReco => {\n        if (existingReco.image === reco.image) {\n          found = true\n        }\n      })\n      if (found === true) {\n        return\n      }\n      recommendations.push(reco)\n    })\n    return recommendations; \n  }\n\n  requestItem(recommendation){\n    var url = \"http://207.46.230.56/reco_request/\" + this.state.fittingRoomNumber + \"/\" + recommendation.id;\n    this.setState({\n      requestedRecommendations: this.state.requestedRecommendations.concat(recommendation)\n    })\n    axios.post(url).then(response => console.log(response));\n    console.log(this.state.requestedRecommendations);\n  }\n\n  leaveRoom(){\n    this.setState({\n      customerItems:[],\n      requestedRecommendations: [],\n      shownRecommendations: [],\n      selectedItemForRecommendations: null,\n      isOccupied: false, \n      highlightItem1: false,\n      highlightItem2: false,\n      highlightItem3: false,\n      highlightReco1: false,\n      highlightReco2: false,\n      highlightReco3: false,\n      requestedSize: ''\n    })\n    var url = 'http://207.46.230.56/empty_room/' + this.state.fittingRoomNumber;\n    axios.post(url).then(response => console.log(response));\n  }\n\n  componentDidMount(){\n    setInterval(this.getItems, 1000);\n    setInterval(this.getInstructions, 500);\n    setInterval(this.shouldEmptyRoom, 1000);\n  }\n\n  requestedRecommendationsContains(rec){\n    for (var i = 0; i < this.state.requestedRecommendations.length; i++){\n      if (this.state.requestedRecommendations[i].id === rec.id){\n        return true;\n      }\n    }\n    return false;\n  }\n\n  shouldEmptyRoom(){\n    var url = 'https://sense.singteliot.com/api/sensor_records/presence_count';\n    var headers = new Headers();\n    headers.append('X-Api-Key', '95A9DABA170B6FEFDEE15E5BD3905E19');\n    var formData = new FormData();\n    formData.append('company_id', 26);\n    formData.append('device_id', 1);\n  \n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: headers\n    }).then(response => response.json()).then(response => {\n      //var jsonResponse = JSON.stringify(response);\n      //console.log(jsonResponse);\n      var count = response.data[0].count;\n      console.log(\"Count: \" + count);\n      var isOccupiedNow = count > 0;\n      var previousOccupied = this.state.isOccupied;\n      this.setState({\n        isOccupied: isOccupiedNow\n      })\n      //console.log(this.state.isOccupied);\n      if (previousOccupied && !isOccupiedNow){\n        this.leaveRoom();\n      }\n    }).catch(error => console.error('Error:', error));\n  }\n  \n  render() {\n    var itemsInFittingRoom = this.state.customerItems.map(x => {\n      var imageUrl = 'https://hackathon2019sg.blob.core.windows.net/images/' + x.image +  '.jpg';\n      var index = this.state.customerItems.indexOf(x);\n      //console.log(index);\n      return (\n        <div key={x.id} className=\"col-sm-3\" style={{marginBottom: \"1rem\"}}>\n          <div className={\"card \" + \n            ((index === 0 && this.state.highlightItem1) \n            || (index === 1 && this.state.highlightItem2) \n            || (index === 2 && this.state.highlightItem3) ? \"bgyellow\" : '')}>\n            <img className=\"card-image-top card-image\" src={imageUrl} alt=\"apparel\"/>\n            <div className=\"card-body\" style={{textAlign: \"center\", alignItem: \"center\", justifyContent: \"center\"}}>\n              <h5 className=\"card-title\">{x.color + \" \" + x.name + \" (\" + x.size + \") $\" + x.price}</h5>\n              <button className=\"btn btn-primary\" onClick={() => this.getRecommendations(x)}>See Recommendations</button>\n            </div>\n          </div>\n        </div>\n      )\n    });\n\n    var addedRecoIds = [];\n    // map distinct recommendations to the sizes\n    const recommendations = []\n    const sizes = []\n    this.state.shownRecommendations.forEach(reco => {\n      let found = false\n      recommendations.forEach(existingReco => {\n        if (existingReco.image === reco.image) {\n          found = true\n        }\n      })\n      if (found === true) {\n        return\n      }\n      recommendations.push(reco)\n    })\n\n    recommendations.forEach(reco => {\n      const size = []\n      this.state.shownRecommendations.forEach(sreco => {\n        if (sreco.image === reco.image) {\n          size.push(sreco.size)\n        }\n      })\n      sizes.push(size + \" \")\n    })\n\n    let fuck = -1\n    var currentlyShowingRecommendations = recommendations.map(reco => {\n      fuck++\n      var imageUrl = 'https://hackathon2019sg.blob.core.windows.net/images/' + reco.image + '.jpg';\n      var index = recommendations.indexOf(reco);\n      if (!addedRecoIds.includes(reco.image)){\n        addedRecoIds = addedRecoIds.concat(reco.image);\n        return (\n          <div key={reco.id} className=\"col-sm-3\">\n            <div className={\"card \" + \n              (((index === 0 && this.state.highlightReco1) \n              || (index === 1 && this.state.highlightReco2) \n              || (index === 2 && this.state.highlightReco3)) ? \"bgyellow\" : '')}>\n              <img className=\"card-image-top card-image\" src={imageUrl} alt=\"apparel\" />\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{reco.color + \" \" + reco.name + \" $\" + reco.price}</h5>\n                <h5 className=\"card-text\">Available Sizes: </h5>\n                <p style={{color: \"black\", fontSize: \"1.5vw\"}}>{sizes[fuck]}</p>\n                {this.requestedRecommendationsContains(reco)\n                  ? <p className=\"card-text\" style={{color: \"black\"}}>Item is on its way!</p>\n                  : <button className=\"btn btn-primary\" onClick={() => this.requestItem(reco)}>Request item</button>}\n              </div>\n            </div>\n          </div>\n        )\n      } else {\n        return null;\n      }\n    });\n\n    return (\n      <div className='container'>\n        <h1 style={{marginBottom: \"1rem\"}}>{\"Fitting Room \" + this.state.fittingRoomNumber}</h1>\n        <hr/>\n        <div className=\"container row\">\n          {itemsInFittingRoom}\n        </div>\n        <h1 style={{marginBottom: \"1rem\"}}>{this.state.selectedItemForRecommendations!==null\n              ? \"Showing recommendations for: \" + this.state.selectedItemForRecommendations.color + \" \" + this.state.selectedItemForRecommendations.name + \" (\" + this.state.selectedItemForRecommendations.size + \")\"\n              : \"Select an item to view recommendations\"}\n        </h1>\n        <hr/>\n        <div className=\"container row\">\n          {currentlyShowingRecommendations}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FittingRoom;\n","import React, { Component } from 'react';\nimport './Phone.css';\nimport axios from 'axios';\nimport uniqid from 'uniqid';\n\nclass Phone extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      pendingRequests: [],\n      inTransit: []\n    }\n    this.getPendingRequests = this.getPendingRequests.bind(this);\n    this.shiftFromPendingToTransit = this.shiftFromPendingToTransit.bind(this);\n    this.markAsDelivered = this.markAsDelivered.bind(this);\n    this.getInTransit = this.getInTransit.bind(this);\n  }\n\n  getPendingRequests(){\n    axios.get(\"http://207.46.230.56/phone_update\").then(response => \n      this.setState({\n        pendingRequests: response.data\n      })\n    ).then(() => console.log(\"pendingRequests\" + this.state.pendingRequests));\n  }\n\n  shiftFromPendingToTransit(request){\n    var url = 'http://207.46.230.56/accept_request/' + request.fittingRoomNumber + \"/\" + request.item.id;\n    axios.post(url).then(response => console.log(response));\n  }\n\n  getInTransit(){\n    axios.get('http://207.46.230.56/check_transit_items').then(response => {\n      this.setState({\n        inTransit: response.data\n      })\n    }).then(()=> console.log(\"in transit\" + this.state.inTransit));\n  }\n\n  markAsDelivered(inTransit){\n    var url = 'http://207.46.230.56/delivered/' + inTransit.fittingRoomNumber + \"/\" + inTransit.item.id;\n    axios.post(url).then(response => console.log(response));\n  }\n\n  componentDidMount(){\n    setInterval(this.getPendingRequests, 1000);\n    setInterval(this.getInTransit, 1000);\n  }\n\n  render() {\n    var recommendationRequests = this.state.pendingRequests.map(x => {\n      var imageUrl = 'https://hackathon2019sg.blob.core.windows.net/images/' + x.item.image +  '.jpg';\n      return (\n        <div key={uniqid()} className=\"col-sm-3\">\n          <div className=\"card\">\n            <img className=\"card-image-top card-image\" src={imageUrl} alt=\"apparel\"/>\n            <div className=\"card-body\">\n              <h4 className=\"card-title\">{x.item.color + \" \" + x.item.name + \" \" + x.item.size + \" for fitting room \" + x.fittingRoomNumber + \". Location: \" + x.item.location_in_store}</h4>\n              <button className=\"btn btn-primary\" onClick={() => this.shiftFromPendingToTransit(x)}>Fetch for customer</button>\n            </div>\n          </div>\n        </div>\n      )\n    });\n\n    var itemsInTransit = this.state.inTransit.map(x => {\n      var imageUrl = 'https://hackathon2019sg.blob.core.windows.net/images/' + x.item.image +  '.jpg';\n      return (\n        <div key={uniqid()} className=\"col-sm-3\">\n          <div className=\"card\">\n            <img className=\"card-image-top card-image\" src={imageUrl} alt=\"apparel\"/>\n            <div className=\"card-body\">\n              <h4 className=\"card-title\">{x.item.color + \" \" + x.item.name + \" \" + x.item.size + \" for fitting room \" + x.fittingRoomNumber + \". Location: \" + x.item.location_in_store}</h4>\n              <button className=\"btn btn-primary\" onClick={() => this.markAsDelivered(x)}>Delivered</button>\n            </div>\n          </div>\n        </div>\n      )\n    });\n\n    return (\n      <div className='container'>\n        <h1>List of Current Requests:</h1>\n        <hr/>\n        <div className='container row'>\n          {recommendationRequests}\n        </div>\n      <div className='container'>\n        <h1>List of Items In Transit:</h1>\n        <hr/>\n        <div className='container row'>\n          {itemsInTransit}\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Phone;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Counter from './Counter.js';\nimport FittingRoom from './FittingRoom.js';\nimport Phone from './Phone.js';\nimport ReactDOM from 'react-dom';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      showCounter: false,\n      showFittingRoomSelection: false, \n      showFittingRoom: false,\n      showPhone: false,\n      fittingRoomSelection: ''\n    }\n    this.showCounter = this.showCounter.bind(this);\n    this.showFittingRoom = this.showFittingRoom.bind(this);\n    this.showPhone = this.showPhone.bind(this);\n    this.showFittingRoomSelection = this.showFittingRoomSelection.bind(this);\n  }\n\n  showCounter(){\n    this.setState({\n        showCounter: true\n    })\n  }\n\n  showFittingRoomSelection(){\n    this.setState({\n        showFittingRoomSelection: true\n    })\n  }\n\n  showPhone(){\n    this.setState({\n        showPhone: true\n    })\n  }\n\n  showFittingRoom(){\n    this.setState({\n      showFittingRoom: true,\n      fittingRoomSelection: ReactDOM.findDOMNode(this.refs.dropdown).value\n    })\n    console.log(this.state.fittingRoomSelection);\n  }\n  \n\n  render() {\n    return (\n      <div className=\"jumbotron jumbotron-fluid\">\n        <div className='container text-center'>\n          {!(this.state.showCounter || this.state.showFittingRoom || this.state.showPhone || this.state.showFittingRoomSelection) ? \n              <div>\n                <h1 className=\"display-4\"> Greetings, human! </h1>\n                <p className=\"lead\">Welcome to <strong>FlashFit</strong>, the retail solution that changes your life.</p>\n                <hr></hr>\n                <p>Begin by selecting your screen below.</p>\n                <div className=\"btn-group\">\n                  <button className=\"btn btn-primary\" onClick={this.showCounter}>Counter</button>\n                  <button className=\"btn btn-primary\" onClick={this.showFittingRoomSelection}>Fitting Room</button>\n                  <button className=\"btn btn-primary\" onClick={this.showPhone}>Phone</button>\n                </div>\n      \n              </div> : <div></div>\n          }\n          {this.state.showCounter && <Counter/>}\n\n          {this.state.showFittingRoom ? <FittingRoom roomNumber={this.state.fittingRoomSelection}/>\n              :\n              this.state.showFittingRoomSelection ?\n                <div>\n                  <select className=\"form-control\" ref=\"dropdown\">\n                    <option value=\"\" disabled selected>Select fitting room number</option>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                  </select>\n                  <button className=\"btn btn-primary\" onClick={this.showFittingRoom}>Submit</button>\n                </div>\n                : <div></div>\n          }\n\n          {this.state.showPhone && <Phone/>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}